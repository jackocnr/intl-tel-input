<!DOCTYPE html>
<html lang="en">
  <head>
    <%= common_meta_tags %>
    <title>International Telephone Input</title>
    <link rel="canonical" href="https://intl-tel-input.com" />
    <meta
      name="description"
      content="International Telephone Input - a JavaScript plugin for entering international telephone numbers."
    />
    <%= og_meta_tags %>
    <%= bootstrap_styles %>

    <!-- ITI styles - show largeFlags version on desktop -->
    <link rel="stylesheet" href="<%= cacheBust('/intl-tel-input/css/intlTelInput.min.css') %>" media="screen and (max-width: 768px)">
    <link rel="stylesheet" href="<%= cacheBust('/css/intlTelInput-largeFlags.css') %>" media="screen and (min-width: 769px)">

    <!-- website styles must come after ITI styles as contains dark mode overrides -->
    <link rel="stylesheet" href="<%= cacheBust('/css/website.css') %>" />
    <link rel="stylesheet" href="<%= cacheBust('/css/homepage.css') %>" />

    <!-- large flags overrides must come after website styles -->
    <link rel="stylesheet" href="<%= cacheBust('/css/large_flags_overrides.css') %>" media="screen and (min-width: 769px)">

    <%= common_head_end %>
  </head>

  <body class="iti-page--homepage">
    <%= layout %>
    <%= common_body_end %>
    <%= iti_script %>
    <script>
      const input = document.querySelector("#phone");
      window.intlTelInput(input, {
        initialCountry: "auto",
        geoIpLookup: (success, failure) => {
          fetch("https://ipapi.co/json")
            .then(res => res.json())
            .then(data => success(data.country_code))
            .catch(() => failure());
        },
        loadUtils: () => import("<%= cacheBust('/intl-tel-input/js/utils.js') %>"),
      });
    </script>
    <%= iti_live_results_script %>
  </body>
</html>
